{"filter":false,"title":"CellGrid.js","tooltip":"/js/CellGrid.js","undoManager":{"mark":1,"position":1,"stack":[[{"start":{"row":0,"column":0},"end":{"row":69,"column":2},"action":"insert","lines":["function CellGrid(rows, columns) {","    this.cells = new Array(rows);","    var n = 0;","    for(var i = -1; ++i < rows;){","        this.cells[i] = new Array(columns);","        for(var j = -1; ++j < columns; ){","            var cell = new Cell(false);","            cell.n = n++;","            cell.x = i;","            cell.y = j;","            this.cells[i][j] = cell;","        }","    }","}","","CellGrid.prototype.aliveNeighborsFor = function(x, y) {","    var self = this,","        neighbors = [[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];","","    function isAliveAt(i, j){","        if(i < 0 || i >= self.cells.length || j < 0 || j >= self.cells[0].length){","            return false;","        }","        return self.cells[i][j].isAlive;","    }","","    var count = 0;","    for(var i = 0; i < neighbors.length; i++){","        count += (isAliveAt(x+neighbors[i][0],y+neighbors[i][1]))?1:0;","    }","","    return count;","};","","CellGrid.prototype.eachCell = function(callback){","    var rows = this.cells.length,","        columns = this.cells[0].length,","        x,y;","    for(var i = 0; i < rows * columns; i++){","        x = i%rows; y = Math.floor(i/rows);","        callback.apply(this,[this.cells[x][y],x,y]);","    }","};","","CellGrid.prototype.reset = function(){","    this.eachCell(function(cell,x,y){","        cell.isAlive = (Math.random() > 0.5);","    });","};","","CellGrid.prototype.prepareStep = function() {","    this.eachCell(function(cell,x,y){","        cell.computeNextState(this.aliveNeighborsFor(x,y));","    });","};","","CellGrid.prototype.step = function() {","    this.prepareStep();","    this.eachCell(function(cell,x,y){","        cell.nextState();","    });","};","","CellGrid.prototype.aliveCells = function() {","    var alive = [];","    this.eachCell(function(cell){","        cell.isAlive && alive.push(cell);","    });","    return alive;","};"],"id":1}],[{"start":{"row":0,"column":0},"end":{"row":69,"column":2},"action":"remove","lines":["function CellGrid(rows, columns) {","    this.cells = new Array(rows);","    var n = 0;","    for(var i = -1; ++i < rows;){","        this.cells[i] = new Array(columns);","        for(var j = -1; ++j < columns; ){","            var cell = new Cell(false);","            cell.n = n++;","            cell.x = i;","            cell.y = j;","            this.cells[i][j] = cell;","        }","    }","}","","CellGrid.prototype.aliveNeighborsFor = function(x, y) {","    var self = this,","        neighbors = [[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];","","    function isAliveAt(i, j){","        if(i < 0 || i >= self.cells.length || j < 0 || j >= self.cells[0].length){","            return false;","        }","        return self.cells[i][j].isAlive;","    }","","    var count = 0;","    for(var i = 0; i < neighbors.length; i++){","        count += (isAliveAt(x+neighbors[i][0],y+neighbors[i][1]))?1:0;","    }","","    return count;","};","","CellGrid.prototype.eachCell = function(callback){","    var rows = this.cells.length,","        columns = this.cells[0].length,","        x,y;","    for(var i = 0; i < rows * columns; i++){","        x = i%rows; y = Math.floor(i/rows);","        callback.apply(this,[this.cells[x][y],x,y]);","    }","};","","CellGrid.prototype.reset = function(){","    this.eachCell(function(cell,x,y){","        cell.isAlive = (Math.random() > 0.5);","    });","};","","CellGrid.prototype.prepareStep = function() {","    this.eachCell(function(cell,x,y){","        cell.computeNextState(this.aliveNeighborsFor(x,y));","    });","};","","CellGrid.prototype.step = function() {","    this.prepareStep();","    this.eachCell(function(cell,x,y){","        cell.nextState();","    });","};","","CellGrid.prototype.aliveCells = function() {","    var alive = [];","    this.eachCell(function(cell){","        cell.isAlive && alive.push(cell);","    });","    return alive;","};"],"id":2},{"start":{"row":0,"column":0},"end":{"row":69,"column":2},"action":"insert","lines":["function CellGrid(rows, columns) {","    this.cells = new Array(rows);","    var n = 0;","    for(var i = -1; ++i < rows;){","        this.cells[i] = new Array(columns);","        for(var j = -1; ++j < columns; ){","            var cell = new Cell(false);","            cell.n = n++;","            cell.x = i;","            cell.y = j;","            this.cells[i][j] = cell;","        }","    }","}","","CellGrid.prototype.aliveNeighborsFor = function(x, y) {","    var self = this,","        neighbors = [[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];","","    function isAliveAt(i, j){","        if(i < 0 || i >= self.cells.length || j < 0 || j >= self.cells[0].length){","            return false;","        }","        return self.cells[i][j].isAlive;","    }","","    var count = 0;","    for(var i = 0; i < neighbors.length; i++){","        count += (isAliveAt(x+neighbors[i][0],y+neighbors[i][1]))?1:0;","    }","","    return count;","};","","CellGrid.prototype.eachCell = function(callback){","    var rows = this.cells.length,","        columns = this.cells[0].length,","        x,y;","    for(var i = 0; i < rows * columns; i++){","        x = i%rows; y = Math.floor(i/rows);","        callback.apply(this,[this.cells[x][y],x,y]);","    }","};","","CellGrid.prototype.reset = function(){","    this.eachCell(function(cell,x,y){","        cell.isAlive = (Math.random() > 0.5);","    });","};","","CellGrid.prototype.prepareStep = function() {","    this.eachCell(function(cell,x,y){","        cell.computeNextState(this.aliveNeighborsFor(x,y));","    });","};","","CellGrid.prototype.step = function() {","    this.prepareStep();","    this.eachCell(function(cell,x,y){","        cell.nextState();","    });","};","","CellGrid.prototype.aliveCells = function() {","    var alive = [];","    this.eachCell(function(cell){","        cell.isAlive && alive.push(cell);","    });","    return alive;","};"]}]]},"ace":{"folds":[],"scrolltop":654.5454120635986,"scrollleft":0,"selection":{"start":{"row":69,"column":2},"end":{"row":69,"column":2},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":46,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1435157881885,"hash":"61dde84c240a71574a269e31512299d854fd4a55"}